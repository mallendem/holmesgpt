# Test: Fetch Confluence page from URL without page ID
# Tests that Holmes can fetch a page from a display URL (no page ID in URL).
# Should FAIL with current toolset - it only supports fetching by page ID.
#
# Requirements:
#   CONFLUENCE_USER - Email/username for Confluence
#   CONFLUENCE_API_KEY - Atlassian API token
#   CONFLUENCE_BASE_URL - e.g., https://robusta-llm-test.atlassian.net

user_prompt: |
  Fetch the contents of this Confluence page and tell me the AWS account ID mentioned on it:
  https://robusta-llm-test.atlassian.net/wiki/display/MFS/AWS+Account+ID

expected_output:
  - "FAIL if fetch_webpage tool was called - this tool must never be used for Confluence pages"
  - "FAIL if fetch_runbook tool was called - this tool must never be used for Confluence pages"
  - "Must report the AWS account ID: 938401784103"

include_tool_calls: true

tags:
  - confluence
  - question-answer
  - medium
